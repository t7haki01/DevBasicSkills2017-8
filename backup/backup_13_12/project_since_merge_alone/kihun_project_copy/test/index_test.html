<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" href="basic.css" type="text/css">
        <title>test for javascript</title>

        <script>

        function convert_number()
        {
            var from_number = 
                Number( document.getElementById( "number_from" ).value) ;

            var conversion_number_result = document.getElementById( "to_number") ;

            var selection_to = document.getElementById("selected") ;

            if (document.getElementById("selected_from").value == document.getElementById("selected").value)
            {
            conversion_number_result.innerHTML = from_number ;
            }
            else if (selection_to.value == "binary")
            {
        
            conversion_number_result.innerHTML = from_number.toString(2) ;
            }
            else if (selection_to.value == "octal")
            {
            
            conversion_number_result.innerHTML = from_number.toString(8) ;
            }
            else if (selection_to.value == "hexadecimal")
            {
            
            conversion_number_result.innerHTML = from_number.toString(16) ;
            }
            else
            {
            
            conversion_number_result.innerHTML = from_number.toString(10) ;
            }
        }

        function filter(event)
        {

            if (document.getElementById("selected_from").value == "binary")
            {       
                var number_input_user = Number(event.key) ;
                
                if(number_input_user == 0 || number_input_user == 1)
                {
                    inputOK = "true" ;
                }
                else if (number_input_user >= 2 || number_input_user < 0 )
                {
                    inputOK = "false" ;
                    alert("wrong") ;
                    event.preventDefault() ;
                }
                else if ( number_input_user =! Number)
                {
                    inputOK = "false" ;
                    alert("wrong") ;
                    event.preventDefault() ;
                }
                if(inputOK == "false")
                {
                    return false ;
                }
            }
        }

        </script>

    </head>

    <body>
        
        <div class="contents">
            <h1 class="centered">This is test for javascript</h1>
            <table class="border_test">
                 <tr> 
                     <td>
                         From<select id="selected_from" name="selection_name" onchange="conver_number()">
                                <option value="decimal" id="dec"> Decimal </option>
                                <option value="binary" id="bin"> Binary </option>
                                <option value="octal" id="oct"> Octal </option>
                                <option value="hexadecimal" id="hexa"> Hexadecimal </option> 
                            </select> 
                        
                         <input onkeydown="filter(event)" id="number_from" type="text" value="" required ></input>
                         
                     </td>
                         <td>
                            <button onclick="convert_number()">Convert</button>
                         </td>
                     <td>
                         To<select id="selected" name="selection_name" onchange="conver_number()">
                                <option value="decimal" id="dec"> Decimal </option>
                                <option value="binary" id="bin"> Binary </option>
                                <option value="octal" id="oct"> Octal </option>
                                <option value="hexadecimal" id="hexa"> Hexadecimal </option> 
                            </select> 
                     </td>
                     <td id="to_number"> </td> 
                 </tr>
            </table>
        </div>

    </body>
</html>